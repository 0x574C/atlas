#
# Licensed to the Apache Software Foundation (ASF) under one
# or more contributor license agreements.  See the NOTICE file
# distributed with this work for additional information
# regarding copyright ownership.  The ASF licenses this file
# to you under the Apache License, Version 2.0 (the
# "License"); you may not use this file except in compliance
# with the License.  You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
#

Introduction
  The purpose of this utility is to export data from Atlas to a ZIP file.

What is Exported?
  Metadata of all Hive databases and all entities connected to these databases (tables, columns, processes, paths) are
  exported. To change the scope of export, modify the accompanying migration-export-request.json. More details of this
  JSON file format can be found in http://atlas.apache.org/Export-API.html

How Much Time Will this Take?
  The duration of the export process depends on the number of entities present in your database. Approximately it takes
  about 2.5ms for each entity in the database. For a database with 1 million entities, export will take about 40 minutes.

Steps to Start Export step of Migration
  - Shutdown Atlas. This is critical to ensure that no updates are being made to Atlas database while export is in progress.
  - Execute the following commands in the host where Atlas server runs:
    - unzip atlas-migration-kit.zip
    - cd atlas-migration-kit
    - python atlas_migration.py atlas-export.zip
      if zip file path is no specified, exported data will be saved to a file named atlas-export-<timestamp>.zip
  - To watch the progress: 'tail -f /var/log/atlas/application.log'.

Next Steps
  Once done, please use the Atlas Migration Guide for next steps.
